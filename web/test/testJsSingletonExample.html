<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
</head>
<body>
<script type='text/javascript'>
/*
 * This is a sample of creating a singleton.  
 *
 * This is useful for utility where you will not create 
 * multiple instances.  This is very loosely the equivalent 
 * of creating a java class with all static methods.
 * 
 * One of the goals is to be able to easily and safely 
 * change the singleton's name.  If you search this sample
 * you'll note that there are only two occurrences of 
 * "MyUtility."  Once is the declaration, and the other is
 * when we demonstrate a sample method call.  This allows
 * clients to easily change the single point where we pollute
 * the global namespace.
 * 
 * We wrap the entire thing in a function to simplify the
 * syntax.  Note that the anonomous function is immediately
 * executed and bound to the global value.
 */
 
// Declare the singleton in the global space.
MyUtility = new function()
{
	// Always bind original owner (this) to local variable.
	var self = this;

	// Example of a private variable.  Declare with 'var'.
	var prefix = "log: ";
	
	// Example of a public variable.  Declare with 'self'.
	self.suffix = '.';
	
	// A sample method declaration. 
	self.someMethod = function()
	{
		 // Use self to reference other methods.
		self.print('hello');
	}
	
	// Another sample.
	self.print = function(s)
	{
		// Don't use 'self' when accessing private variables.
		// Do use 'self' when accessing public variables.
		console.log(prefix + s + self.suffix);
	}
// Close and immediately execute the function.
}();


// Just demonstrates external access.
MyUtility.suffix = "!";

fn = MyUtility.someMethod;
fn();


</script>
</body>
</html>
