<!DOCTYPE html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">

    <script type="text/javascript" src ="../static/version/kodemore/loader/kmResourceLoader.js"></script>
    <script type="text/javascript" src ="../static/version/app/common/script/myResourceLoader.js"></script>
    
    
    <script type="text/javascript">
        function myLoad()
        {
            MyResourceLoader.loadTestResources(
            {
                onComplete: myInstall
            });
        }
        
        function myInstall()
        {
            $('#main').fadeIn();
            mySetupDraggable();
        }
        
        function mySetupDraggable()
        {
            $("#draggable").sortable(
            {
                handle: ".xDragHandle",
                update: function(event, ui) 
                {
                     var s = Kmu.formatAttributesFor('#draggable > li', 'id');
                     Kmu.toast(s);
                }
            });
        }
        
        function myHandleSubmit()
        {
            var s = $('form').serialize();
            console.log(s);  
        }
        
    </script>
    
    <style type="text/css">
        .xDragHandle
        {
            cursor: move;
            width: 50px;
            border: thin solid #aaa;
            background-color: #ccc;
        }
    </style>

</head>

<body onload="myLoad()">
<div id='main' style='display:none' class='gap'>
<form onsubmit="myHandleSubmit();return false;">

    <div class='boxGreen pad'>
        Drag divs within a parent div.
    </div>
    
    <div class='boxBlue gap'>
        <br>
                
        <ul id="draggable">
        
          <li id='foo1' class='boxGray pad'>
            <div class='xDragHandle'><p>foo1</p></div>
            <p>aaaaa</p>
            <input type='hidden' name='item' value='aaaaa'>
          </li>
          
          <li id='foo2' class='boxGray pad'>
             <div class='xDragHandle'><p>foo2</p></div>
             <p>bbbbb</p>
            <input type='hidden' name='item' value='bbbbb'>
          </li>
          
          <li id='foo3' class='boxGray pad'>
             <div class='xDragHandle'><p>foo3</p></div>
             <p>ccccc</p>
            <input type='hidden' name='item' value='ccccc'>
          </li>
          
          <li id='foo4' class='boxGray pad'>
             <div class='xDragHandle'><p>foo4</p></div>
             <p>ddddd</p>
            <input type='hidden' name='item' value='ddddd'>
          </li>
          
          <li id='foo5' class='boxGray pad'>
             <div class='xDragHandle'><p>foo5</p></div>
             <p>eeeee</p>
            <input type='hidden' name='item' value='eeeee'>
          </li>
          
        </ul>
    </div>
    
    <input type="submit">
    
</form>
</div>
</body>
</html>